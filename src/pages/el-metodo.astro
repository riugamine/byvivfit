---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';
import CallToAction from '../components/common/CallToAction.astro';
import FeatureCard from '../components/FeatureCard';
import ProgramFeatureCard from '../components/ProgramFeatureCard';
import TransformationModal from '../components/TransformationModal';

// Define the images as direct URLs
const transformationImages = {
  mariaS: "https://res.cloudinary.com/dhzl31kb8/image/upload/v1744502400/IMG_0447_bi6eww.jpg",
  gloriannys: "https://res.cloudinary.com/dhzl31kb8/image/upload/v1744502384/IMG_0416_dieu39.jpg",
  jessica: "https://res.cloudinary.com/dhzl31kb8/image/upload/v1744502378/IMG_0445_jbu7rh.jpg",
  alejandra: "https://res.cloudinary.com/dhzl31kb8/image/upload/v1744502375/IMG_9696_l7c5cg.jpg",
  mariaB: "https://res.cloudinary.com/dhzl31kb8/image/upload/v1744506020/IMG_0038_cqqdm5.jpg",
  yusmila: "https://res.cloudinary.com/dhzl31kb8/image/upload/v1744506039/IMG_0674_jhd0au.jpg"
};
---

<Layout title="El Método - Programa de Transformación de 6 Semanas">
  <!-- Hero Section -->
  <section class="pt-20 lg:pt-24 pb-8 lg:pb-12 bg-gradient-to-r from-coral to-salmon text-white">
    <div class="container mx-auto px-4">
      <div class="flex flex-col lg:flex-row items-center gap-6 lg:gap-12">
        <div class="w-full lg:w-1/2 text-center lg:text-left">
          <h1 class="text-2xl sm:text-3xl lg:text-5xl font-opensauce font-bold mb-3 lg:mb-4">
            El Método
            <span class="block text-lg sm:text-xl lg:text-3xl mt-2">6 semanas para transformar tu vida</span>
          </h1>
          <p class="text-base sm:text-lg lg:text-xl mb-6 lg:mb-8 font-agrandir">
            Un programa integral que combina entrenamiento estratégico, nutrición flexible y educación sobre el ciclo menstrual. Resultados reales sin dietas restrictivas.
          </p>
          <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center lg:justify-start">
            <a 
              href="#waitlist" 
              class="w-full sm:w-auto text-center inline-block bg-white text-coral px-6 sm:px-8 py-3 rounded-full font-opensauce font-bold text-base lg:text-lg hover:bg-black hover:text-white transition duration-300"
            >
              Únete a la Lista de Espera
            </a>
            <a 
              href="https://app.byvivifit.com" 
              class="w-full sm:w-auto text-center inline-block bg-transparent border-2 border-white text-white px-6 sm:px-8 py-3 rounded-full font-opensauce font-bold text-base lg:text-lg hover:bg-white hover:text-coral transition duration-300"
            >
              Accede a Move with Vi
            </a>
          </div>
        </div>
        <div class="w-full lg:w-1/2 px-4 sm:px-8 lg:px-0 flex lg:justify-end justify-center">
          <Image 
            src="https://res.cloudinary.com/dhzl31kb8/image/upload/v1744212953/IMG_0626_jskztk.jpg" 
            alt="El Método byVivifit" 
            width={600} 
            height={600} 
            class="rounded-lg shadow-xl w-2/3 md:w-3/4 lg:w-auto max-w-xs lg:max-w-sm object-cover"
          />
        </div>
      </div>
    </div>
  </section>
  <!-- Rest of the sections remain similar but with updated content focusing on the 6-week program -->
  <!-- Benefits Section -->
  <section class="py-12 lg:py-16 bg-white">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl sm:text-3xl lg:text-4xl font-opensauce font-bold text-center mb-8 lg:mb-12">
        ¿Qué lograrás con El Método?
      </h2>
      
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8 max-w-5xl mx-auto">
        <FeatureCard 
          icon="fa-bolt" 
          title="Energía Todo el Día" 
          description="Optimiza tu nutrición y entrena de forma inteligente para mantener tu energía al máximo."
          delay={0.1}
          client:visible
        >
          <ul class="space-y-2 font-agrandir text-gray-600 text-sm mt-4">
            <li class="flex items-center">
              <i class="fas fa-check text-coral mr-2"></i>
              <span>Mayor vitalidad diaria</span>
            </li>
            <li class="flex items-center">
              <i class="fas fa-check text-coral mr-2"></i>
              <span>Mejor calidad de sueño</span>
            </li>
          </ul>
        </FeatureCard>
        
        <FeatureCard 
          icon="fa-dumbbell" 
          title="Cuerpo Fuerte y Definido" 
          description="Desarrolla un físico atlético sin dietas restrictivas ni rutinas confusas."
          delay={0.2}
          client:visible
        >
          <ul class="space-y-2 font-agrandir text-gray-600 text-sm mt-4">
            <li class="flex items-center">
              <i class="fas fa-check text-coral mr-2"></i>
              <span>Aumento de fuerza</span>
            </li>
            <li class="flex items-center">
              <i class="fas fa-check text-coral mr-2"></i>
              <span>Mejor composición corporal</span>
            </li>
          </ul>
        </FeatureCard>
        
        <FeatureCard 
          icon="fa-heart" 
          title="Hábitos Sostenibles" 
          description="Aprende a mantener resultados a largo plazo con un estilo de vida equilibrado."
          delay={0.3}
          client:visible
        >
          <ul class="space-y-2 font-agrandir text-gray-600 text-sm mt-4">
            <li class="flex items-center">
              <i class="fas fa-check text-coral mr-2"></i>
              <span>Rutinas consistentes</span>
            </li>
            <li class="flex items-center">
              <i class="fas fa-check text-coral mr-2"></i>
              <span>Relación saludable con la comida</span>
            </li>
          </ul>
        </FeatureCard>
      </div>
    </div>
  </section>

<!-- Program Features -->
<section class="py-12 lg:py-16 bg-gray-50">
  <div class="container mx-auto px-4">
    <h2 class="text-2xl sm:text-3xl lg:text-4xl font-opensauce font-bold text-center mb-8 lg:mb-12">
      ¿Qué incluye el programa?
    </h2>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 max-w-5xl mx-auto">
      <ProgramFeatureCard 
        icon="fa-mobile-alt"
        title="App Move with Vi"
        description="Acceso completo a la app con planes de entrenamiento, guías nutricionales y seguimiento de progreso."
        delay={0.1}
        fromLeft={true}
        client:visible
      />

      <ProgramFeatureCard 
        icon="fa-video"
        title="Biblioteca de Ejercicios"
        description="Videos detallados de cada ejercicio con explicaciones técnicas y variaciones según tu nivel."
        delay={0.2}
        fromLeft={false}
        client:visible
      />

      <ProgramFeatureCard 
        icon="fa-calculator"
        title="Calculadora de Macros"
        description="Herramienta personalizada para calcular tus necesidades nutricionales específicas."
        delay={0.3}
        fromLeft={true}
        client:visible
      />

      <ProgramFeatureCard 
        icon="fa-users"
        title="Comunidad Privada"
        description="Acceso a un grupo exclusivo para compartir experiencias y motivación con otras participantes."
        delay={0.4}
        fromLeft={false}
        client:visible
      />
    </div>
  </div>
</section>

  <!-- Is This For You? -->
  <section class="py-12 lg:py-16 bg-white">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl sm:text-3xl lg:text-4xl font-opensauce font-bold text-center mb-8 lg:mb-12">
        ¿Es El Método para ti?
      </h2>
      
      <div class="max-w-3xl mx-auto">
        <div class="bg-white rounded-xl p-6 lg:p-8 shadow-lg border border-gray-100">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            {[
              {
                text: "Quieres resultados reales y duraderos en 6 semanas",
                icon: "fa-star"
              },
              {
                text: "Buscas un programa que combine entrenamiento y nutrición",
                icon: "fa-dumbbell"
              },
              {
                text: "Deseas entender y trabajar en armonía con tu ciclo hormonal",
                icon: "fa-venus"
              },
              {
                text: "Estás lista para comprometerte con un cambio real",
                icon: "fa-heart"
              },
              {
                text: "Quieres aprender sobre nutrición flexible sin restricciones",
                icon: "fa-apple-alt"
              },
              {
                text: "Buscas un enfoque sostenible y saludable",
                icon: "fa-seedling"
              }
            ].map((item) => (
              <div class="flex items-start p-4 bg-coral/5 rounded-lg transform hover:scale-102 transition-transform duration-300">
                <div class="w-10 h-10 bg-coral/10 rounded-full flex items-center justify-center flex-shrink-0">
                  <i class={`fas ${item.icon} text-coral`}></i>
                </div>
                <p class="font-agrandir text-gray-700 ml-4 text-sm sm:text-base">{item.text}</p>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>
<!-- Testimonials -->
<section class="py-16 bg-gray-50">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl md:text-4xl font-opensauce font-bold text-center mb-12">
      Transformaciones Reales
    </h2>
    
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8 max-w-7xl mx-auto">
      <TransformationModal 
        client:visible
        image={transformationImages.mariaS}
        name="Maria S."
        testimony="Para mí, la educación que entregas en el reto es INVALUABLE..."
      />
      
      <TransformationModal 
        client:visible
        image={transformationImages.gloriannys}
        name="Gloriannys"
        testimony="Lo que enseñaste en el reto cambió mi vida, me vi todos los videos en un fin de semana, ver tus clases fue mi Netflix, quedé sorprendida con todo lo que aprendí, de repente todo me hizo CLICK! Gracias Vivi, GRACIAS INFINITAS, tu reto se robó mi corazón y yo le regalé 10 kilos."
      />
      
      <TransformationModal 
        client:visible
        image={transformationImages.jessica}
        name="Jessica"
        testimony="LO AMEEEE TODO! Me despierto cada mañana sintiéndome maravillosa, sintiéndome segura de mi misma, sin miedo a comer y llegando al gym directo a entrenar, sintiéndome fuerte y poderosa. EL MÉTODO FUE EL MEJOR RETO QUE HE PODIDO ADQUIRIR EN MI VIDA! nunca me había sentido tan segura en mi propia piel. GRACIAS POR CREAR ESTE RETO VIVI!"
      />
      <TransformationModal 
      client:visible
      image={transformationImages.alejandra}
      name="Alejandra Q"
      testimony="El método cambio mi vida!!! No puedo ceer mi cintura, como se me marcan mis abs arriba, mis brazos mis nalgas. Gracias por estar en mi vida VIVI! De verdad lo que enseñas vale oro y que seas tan generosa de enseñarlo es lo que te hace aún más especial."
    />
    <TransformationModal 
    client:visible
    image={transformationImages.mariaB}
    name="Maria B."
    testimony="Aprender a comer lo que quiera siempre cumpliendo tus calorías necesariasm la disposición de Vivi al siempre querer enseñar y reponder todas las preguntas y tambien la motivación del grupo! Es un método bueniismo, aprender a moverte siempre, el poder preguntar tantas cosas y tener respuesta es lo mejor."
  />
  <TransformationModal 
  client:visible
  image={transformationImages.yusmila}
  name="Yusmila L."
  testimony="AME TODO, totalmente todo, TODITO. Aprender a desarrollar mi propia dieta con cosas que a mi me gustan, volver a comer alimentos que había dejado de comer por miedo, aprender los macros fue algo transcendental en mi vida quedé sorprendida de tantas cosas que enseñas. La educación que entregas vale el triple de lo que pagué."
/>
    </div>
  </div>
</section>
  <!-- Program Modules -->
  <section class="py-12 lg:py-16 bg-white">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl sm:text-3xl lg:text-4xl font-opensauce font-bold text-center mb-6 lg:mb-12">
        Explora los Módulos de El Método
      </h2>
      
      <div class="max-w-3xl mx-auto space-y-3 lg:space-y-4" id="modules-accordion">
        <!-- Módulo items -->
        <div class="border rounded-lg overflow-hidden module-item">
          <button class="w-full px-4 sm:px-6 py-3 sm:py-4 text-left font-opensauce font-bold flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors module-button">
            <span class="flex items-center text-sm sm:text-base">
              <i class="fas fa-flag text-coral mr-2 sm:mr-3"></i>
              Empieza Aquí
            </span>
            <i class="fas fa-chevron-down transition-transform text-sm sm:text-base"></i>
          </button>
          <div class="p-4 sm:p-6 bg-white hidden module-content">
            <ul class="space-y-2 sm:space-y-3 font-agrandir text-gray-700 text-sm sm:text-base">
              <li class="flex items-start">
                <i class="fas fa-check-circle text-coral mt-1 mr-3"></i>
                <span>Guía de bienvenida</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-coral mt-1 mr-3"></i>
                <span>PDF: Suplementación inteligente</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-coral mt-1 mr-3"></i>
                <span>Semana de entrenamiento pre-reto</span>
              </li>
            </ul>
          </div>
        </div>

        <!-- Módulo 2 -->
        <div class="border rounded-lg overflow-hidden module-item">
          <button class="w-full px-6 py-4 text-left font-opensauce font-bold flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors module-button">
            <span class="flex items-center">
              <i class="fas fa-mobile-alt text-coral mr-3"></i>
              App Move With Vi
            </span>
            <i class="fas fa-chevron-down transition-transform"></i>
          </button>
          <div class="p-6 bg-white hidden module-content">
            <ul class="space-y-3 font-agrandir text-gray-700">
              <li class="flex items-start">
                <i class="fas fa-check-circle text-coral mt-1 mr-3"></i>
                <span>Configuración de perfil y agenda de entrenamiento</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-coral mt-1 mr-3"></i>
                <span>Uso de las secciones "Mi Perfil" y "Progreso"</span>
              </li>
            </ul>
          </div>
        </div>

        <!-- Módulo 3 -->
        <div class="border rounded-lg overflow-hidden module-item">
          <button class="w-full px-6 py-4 text-left font-opensauce font-bold flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors module-button">
            <span class="flex items-center">
              <i class="fas fa-dumbbell text-coral mr-3"></i>
              Entrenamiento
            </span>
            <i class="fas fa-chevron-down transition-transform"></i>
          </button>
          <div class="p-6 bg-white hidden module-content">
            <ul class="space-y-3 font-agrandir text-gray-700">
              <li class="flex items-start">
                <i class="fas fa-check-circle text-coral mt-1 mr-3"></i>
                <span>Técnicas de tempo y carga de peso</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-coral mt-1 mr-3"></i>
                <span>Rutinas adaptables (gimnasio o casa)</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-coral mt-1 mr-3"></i>
                <span>Importancia de los pasos diarios</span>
              </li>
            </ul>
          </div>
        </div>

        <!-- Módulo 4 -->
        <div class="border rounded-lg overflow-hidden module-item">
          <button class="w-full px-6 py-4 text-left font-opensauce font-bold flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors module-button">
            <span class="flex items-center">
              <i class="fas fa-apple-alt text-coral mr-3"></i>
              Nutrición
            </span>
            <i class="fas fa-chevron-down transition-transform"></i>
          </button>
          <div class="p-6 bg-white hidden module-content">
            <ul class="space-y-3 font-agrandir text-gray-700">
              <li class="flex items-start">
                <i class="fas fa-check-circle text-coral mt-1 mr-3"></i>
                <span>Dieta flexible y cálculo de macros</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-coral mt-1 mr-3"></i>
                <span>Planes de alimentación generales</span>
              </li>
            </ul>
          </div>
        </div>

        <!-- Módulo 5 -->
        <div class="border rounded-lg overflow-hidden module-item">
          <button class="w-full px-6 py-4 text-left font-opensauce font-bold flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors module-button">
            <span class="flex items-center">
              <i class="fas fa-heart text-coral mr-3"></i>
              Salud Integral
            </span>
            <i class="fas fa-chevron-down transition-transform"></i>
          </button>
          <div class="p-6 bg-white hidden module-content">
            <ul class="space-y-3 font-agrandir text-gray-700">
              <li class="flex items-start">
                <i class="fas fa-check-circle text-coral mt-1 mr-3"></i>
                <span>Manejo del ciclo menstrual para optimizar resultados</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-coral mt-1 mr-3"></i>
                <span>Protocolo antiinflamatorio</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-coral mt-1 mr-3"></i>
                <span>Mitos comunes sobre fitness y salud</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const moduleButtons: NodeListOf<HTMLButtonElement> = document.querySelectorAll('.module-button');
    
    moduleButtons.forEach((button: HTMLButtonElement) => {
      button.addEventListener('click', () => {
        const moduleItem: HTMLElement | null = button.closest('.module-item');
        const content: HTMLElement | null = moduleItem ? moduleItem.querySelector('.module-content') : null;
        const icon: HTMLElement | null = button.querySelector('.fa-chevron-down');
        
        if (!moduleItem || !content || !icon) return;

        // Cerrar todos los otros módulos
        document.querySelectorAll<HTMLElement>('.module-content').forEach((otherContent: HTMLElement) => {
          if (otherContent !== content && !otherContent.classList.contains('hidden')) {
            otherContent.classList.add('hidden');
            const parentElement = otherContent.parentElement;
            const otherIcon: HTMLElement | null = parentElement ? parentElement.querySelector('.fa-chevron-down') : null;
            if (otherIcon) {
              otherIcon.style.transform = 'rotate(0deg)';
            }
          }
        });

        // Alternar el módulo actual
        content.classList.toggle('hidden');
        icon.style.transform = content.classList.contains('hidden') ? 'rotate(0deg)' : 'rotate(180deg)';
      });
    });
  });
</script>

  <!-- FAQ Section -->
  <section class="py-12 lg:py-16 bg-gray-50">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl sm:text-3xl lg:text-4xl font-opensauce font-bold text-center mb-6 lg:mb-12">
        Preguntas Frecuentes
      </h2>
      
      <div class="max-w-3xl mx-auto space-y-3 lg:space-y-4" id="faq-accordion">
        {[
          {
            question: "¿Puedo unirme si soy principiante?",
            answer: "Sí, el programa incluye rutinas adaptables a todos los niveles."
          },
          {
            question: "¿Necesito gimnasio o puedo entrenar en casa?",
            answer: "Puedes entrenar en cualquier lugar; cada ejercicio tiene variantes."
          },
          {
            question: "¿Los planes de alimentación son personalizados?",
            answer: "No. Son generales y no incluyen adaptaciones para alergias, condiciones médicas o dietas veganas/vegetarianas."
          },
          {
            question: "¿Cómo funciona la suplementación?",
            answer: "Se brinda información clara sobre suplementos, pero su uso es opcional."
          },
          {
            question: "¿Cuánto tiempo dura el acceso al contenido?",
            answer: "8 semanas (1 semana antes y después del reto)."
          },
          {
            question: "¿Hay opciones para dietas vegetarianas/veganas?",
            answer: "No, el método sigue una dieta omnívora exclusiva."
          },
          {
            question: "¿Puedo participar si estoy embarazada o en lactancia?",
            answer: "No es recomendable si no duermes 8 horas seguidas o tienes demandas físicas altas."
          },
          {
            question: "¿Cómo accedo a la app y al material?",
            answer: "Recibirás un correo con instrucciones una semana antes del inicio."
          }
        ].map((faq, index) => (
          <div class="border rounded-lg overflow-hidden faq-item">
            <button 
              class="w-full px-4 sm:px-6 py-3 sm:py-4 text-left font-opensauce font-bold flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors faq-button text-sm sm:text-base"
              aria-expanded="false"
              aria-controls={`faq-content-${index}`}
            >
              <span class="flex items-center">
                <i class="fas fa-question-circle text-coral mr-3"></i>
                {faq.question}
              </span>
              <i class="fas fa-chevron-down transition-transform duration-300"></i>
            </button>
            <div 
              id={`faq-content-${index}`}
              class="p-4 sm:p-6 bg-white hidden faq-content"
              aria-hidden="true"
            >
              <p class="font-agrandir text-gray-700 text-sm sm:text-base">{faq.answer}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

<script>
  interface FAQElements {
    button: HTMLButtonElement;
    content: HTMLElement;
    icon: HTMLElement;
  }

  document.addEventListener('DOMContentLoaded', () => {
    const faqButtons: NodeListOf<HTMLButtonElement> = document.querySelectorAll('.faq-button');
    
    const toggleFAQ = (elements: FAQElements): void => {
      const isHidden = elements.content.classList.contains('hidden');
      
      // Update ARIA attributes
      elements.button.setAttribute('aria-expanded', (!isHidden).toString());
      elements.content.setAttribute('aria-hidden', isHidden.toString());
      
      // Toggle classes
      elements.content.classList.toggle('hidden');
      elements.icon.style.transform = isHidden ? 'rotate(180deg)' : 'rotate(0deg)';
    };

    const closeAllExcept = (exceptButton: HTMLButtonElement): void => {
      faqButtons.forEach((otherButton) => {
        if (otherButton !== exceptButton) {
          const elements: FAQElements = {
            button: otherButton,
            content: otherButton.nextElementSibling as HTMLElement,
            icon: otherButton.querySelector('.fa-chevron-down') as HTMLElement
          };

          if (!elements.content.classList.contains('hidden')) {
            toggleFAQ(elements);
          }
        }
      });
    };

    faqButtons.forEach((button) => {
      button.addEventListener('click', () => {
        const elements: FAQElements = {
          button: button,
          content: button.nextElementSibling as HTMLElement,
          icon: button.querySelector('.fa-chevron-down') as HTMLElement
        };

        closeAllExcept(button);
        toggleFAQ(elements);
      });
    });
  });
</script>

  <!-- Disclaimer -->
  <section class="py-8 bg-gray-100">
    <div class="container mx-auto px-4">
      <div class="max-w-2xl mx-auto text-center">
        <p class="text-sm font-agrandir text-gray-600">
          Programa diseñado para mujeres mayores de 18 años. No recomendado durante embarazo o lactancia. 
          Plan nutricional basado en dieta omnívora.
        </p>
      </div>
    </div>
  </section>

  <!-- Call to Action -->
  <CallToAction 
    title="¿Lista para transformar tu vida en 6 semanas?" 
    subtitle="Únete a la lista de espera y sé la primera en conocer cuando abrimos inscripciones" 
    buttonText="Unirme a la Lista de Espera" 
    buttonLink="#waitlist" 
  />
</Layout>

<style>
  /* Estilos adicionales específicos de la página */
</style>